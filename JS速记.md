## 1.1 JavaScript语言核心

由于JavaScript属于弱类型语言，所以不需要设定数据类型  
var x; 代表声明变量

x = "helllo";和x = 'hello'; 都代表字符串

x = true | false ;都是布尔值

// js对象

var book = {
    topic:"js",  属性topic的值是js
    fat：true   属性fat的值是true
};

// 通过.或者[ ]访问对象属性

book.topic  =>  js  
book["fat"]  =>  true

// 数组，以数字为索引

var primes = [2,3,5,7];  
primes[0]       =>2  
primes.length       =>4  数组元素个数  
primes[4] = 9；  赋值添加新元素  
promes[4] = 11;  赋值，改变已有元素  
var empty = [];     []是空数组，它具有0个元素  
empty.length        => 0

// 数组和对象都可包含另一个数组或对象  
var points = [      // 有两个元素的数组  
    {x: 0, y: 0},       // 每个元素都是一个对象   
    {x: 1, y: 1}
];    
var data = {        // 一个包含两个属性的对象    
    trial1: [[1,2],[3,4]],  // 每一个属性都包含另一个数组  
    trial2: [[2,3],[4,5]]
};

// 运算符  

3 + 2  
3 - 2  
3 * 2  
3 / 2  
points[1].x - points[0].x   //更复杂的操作数也能照常工作  
"3" + "2"   // => "32"， +号可以完成加法运算也可以作字符串连接  

count++;  
count--;  
count += 2;  
count += 4;

x == y  
x != y  
x < y  
x <=y  
x > y  
x >= y  
"two" == "three"  => false两个字符串不相等  
“two” > "three"  => true "tw"在字母中的索引大于"th"  
false == (x > y)  => true：false和false相等  
&&  与运算  
||  或运算  
|   求反  

// 函数是一段带有参数的js代码，可以多次调用  

    function plus1(x){  //定义一个名为plus1的函数，带有参数x
    return x+1;  //返回一个比传入的参数大的值
    }  
    plus1(y)  // =>4:y为3，调用函数的结果为3+1  
    var square = function(x){  // 函数是一种值
    return x*x;  
    };

当将函数和对象写在一起的时候，函数就变成了“方法”（method）  

var a = [];     // 创建一个新数组  
a.push(1,2,3);      // push（）方法向数组添加元素
a.reverse();    // 方法，将数组元素的次序反转  

// 我们也可以定义自己的方法，“this”关键字是对定义方法的对象的引用

JavaScript是一种面向对象的编程语言，但和传统的面向对象又有很打区别，后面详说

// 定义一个构造函数以初始化一个新的point对象

function Point(x,y){    // 按照惯例，构造体函数首字母大写
    this.x = x;     // 关键字this指代初始化的实例  
    this.y = y;     // 将函数的参数存储为对象的属性
}       // 不需要return  

// 使用new关键字和构造体来创建一个实例  
var p = new Point(1,1);     // 平面几何中的点（1，1）  


控制语句依然有 if while for 

## 1.2客户端js

> <script src="library.js"></script>
 引入js库
 
 js区分大小写
 
 后面13章讲让JavaScript在web浏览器中运行起来  
 14章讲web浏览器脚本技术，涵盖一些重要的全局函数  
 15章讲通过脚本操作HTML文档内容  
 16章讲JavaScript操作CSS  
 17章讲如何定义、注册事件处理程序，以及浏览器如何调用  
 19章讲jQuery
 
## 2.1 字符集

2.1.1 区分大小写

JavaScript是一门区分大小写的语言 “online” “ONLINE” “OnLine” “Online” 是4个不同的变量名

需要注意HTML不区分大小写

2.1.2 空格、换行符和控制控制符

JavaScript会忽略程序中标识符之间的空格，所以采用一致的缩进形成统一的风格，可以提高代码可读性

## 2.2注释

JavaScript支持两种方式的注释

// 这是单行注释  
/* 这里是一段注释 */    // 这里是另一段注释  
/*
* 这是一段注释
* 这里的注释可以连续写
*/

## 2.3直接量

直接量就是程序中直接使用的数据值  
12  // 数字  
1.2  // 小数  
"hello world"  // 字符串文本  
'Hi'  // 另一个字符串  
true  // 布尔值  
false  // 另一个布尔值  
/javascript/gi  // 正则表达式直接量（用做模式匹配）  
null  // 空  

## 2.4标识符和保留字

标识符就是一个名字

保留字就是JavaScript把一些标识符拿出来作为自己的关键字，比如function,return等等  

## 2.5可选的分号

如果一行只有一句话，可以不用分号，通常不省略  

var a  
a  
=  
3  
consolse.log(a)  

JavaScript会将其解析为  

var a; a = 3; console.log(a);

"++" 和 "--" 运算符既可以作为前缀也可以作为后缀，如果没有分号，会默认解析为前缀运算符  

x  
++  
y  

解析为 “x;++y” 而不是 “x++;y”

## 3类型、值和变量

JavaScript中的类型分成两类：原始类型和对象类型

原始类型包括  数字、字符串和布尔值，null和undefined是特殊的原始值  
除了原始类型之外的就是对象了  每个对象都是属性的集合

JavaScript还定义了一种特殊是我对象  函数  如果函数用来初始化 （使用new运算符） 一个新建的对象，我们称之为构造函数，每个构造函数东一个一类（class）对象

JavaScript除了数组（Array）类和函数（Function）类之外，语言核心还定义了日期（Date）类定义代表日期的对象。正则（RegExp）类定义表达正则表达式，错误（Error）类定义了那些JavaScript程序运行时错误和语法错误的对象。

## 3.1数字

JavaScript不区分整数值和浮点数值，所有数字均存储成64位浮点数，但JavaScript在实际使用中，（如数组索引，位操作符）则基于32位整数。

在数字直接量前面添加负号（-）可以得到它的负值。但负号是一元求反运算符，并不是数字直接量语法组成部分

3.1.1 整形直接量

除了十进制整形整量，同样识别十六进制，以“0x”开头

不支持八进制直接量，可以尝试以0开头后面加0~7的数字，有的支持，有的不支持

3.1.2 浮点型直接量

采用传统实数写法

3.1.3 算术运算

+，-，*，/，%

此外还支持更加复杂的运算符，统为Math对象，常见的

|Math常见| 注释|
|:----|:----|
|Math.pow(2,53)|2的53次幂|
|Math.round(.6)|1.0 四舍五入|
|Math.ceil(.6)|1.0 向上取整|
|Math.floor(.6)|0.0 向下取整|
|Math.abs(-5)| 5 绝对值|
|Math.max(x,y,z)|返回最大值|
|Math.min(x,y,z)| 返回最小值|
|Math.radom()|生成大于0小于1.0的伪随机数|
|Math.PI|π 圆周率|
|Math.E|e 自然对数|
|Math.sqrt(3)|3的平方根|
|Math.sin(0)|三角函数 还有cos,atant等|
|Math.pow(3,1/3)|3的立方根|
|Math.log(10)|10的自然对数|
|Math.log(100)/Math.LN10|以10为底100的对数|
|Math.log(512)/Math.LN2|以2为底512的对数|
|Math.exp(3)|e的3次幂|

后面章节有Math介绍

当运算结果超过JavaScript能表示的上限时，溢出（overflow），结果为无穷大（infinity）  
当运算结果无限接近于零，比能表示最小值还小，下溢（underflow）结果为0  

被零整除不报错，返回无穷大（infinity）或（-infinity）

零除以零 返回NaN  

3.1.4 二进制浮点数和四舍五入错误

二进制表示法不能精确的表示类似0.1这样简单的数字

JavaScript中的数字具有足够的精度，可以极其接近0.1，但事实是数字不能精确的表示，带来了一些问题

var x = 0.3 - 0.2;      // 30美分减去20美分  
var y = 0.2 - 0.1;      // 20美分减去20美分  
x == y                  // => false两个值不相等

x == 0.1                // => false   0.3-0.2不等于0.1  
y == 0.1                // => true 0.2-0.1等于0.1

由于舍入误差，0.3和0.2之间的近似差值实际上不等于0.2-0.1的近似差值

这个问题不仅JavaScript，所有使用二进制浮点数的语言 如C Java都会遇到这个问题。这个问题也只会在比较是否相等的时候才会出现

ps：在JavaScript中，0.3-0.2 = 0.099 999 999 999 999 98.

3.1.5 日期和时间

Date()构造函数用来创建日期和时间的对象

## 3.2 文本

3.2.1 字符串直接量

由单引号或者双引号括起来的字符序列，两者之间可以互相嵌套，但不可以双引号嵌套双引号，但银行嵌套单引号

3.2.2 转义字符（逃逸符）

|转义字符|含义|
|:----|:----|
|\b|退格符|
|\t|水平制表符|
|\n|换行符|
|\v|垂直制表符|
|\f|换页符|
|\r|回车符|
|\"|双引号|
|\'|单引号|
|\ \|反斜线|

3.2.3 字符串的使用

可以用“+”运算符连接字符串

要确认字符的长度使用 s.length 方法

切记，使用JavaScript中，字符串是固定不变的，类似replace()和toUpperCase()方法返回新的字符串，原字符串本身并没有发生改变  

3.2.4 模式匹配

利用正则表达式进行模式匹配

## 3.3布尔值

布尔值指代真或假，开或关，是或否

## 3.4null和undefined

null表示一个特殊值，常用来表示“空值”

undefined是一个更深层次的空值，当返回undefined时说明这个属性元素不存在

## 3.5全局对象

全局对象是全局定义的符号，JavaScript可以直接使用，任何web浏览器加载页面的时候，它将创建一个新的全局对象，并给定义初始属性

+ 全局属性，比如undefined、Infinity和NaN  
+ 全局函数，比如isNaN()、parseInt()和eval()  
+ 构造函数，比如Date()、RegExp()、String()、Object()和Array()
+ 全局对象。比如Math和JSON

## 3.6 包装对象

通过“.”符号来引用属性值，当属性值是一个属性的时候，称其为方法。通过o.m()来调用对象o中的额方法

## 3.7 不可变的原始值和可变的对象引用  

JavaScript中的原始值是不可以更改的，（undefined、null、布尔值、数字和字符串）都不可以更改，任何方法都不行，对于字符串来说，任何操作字符串的方法，返回的都是一个新的字符串

## 3.8 类型转换

10 + "ojects"   //=>"10 object" 10转化成字符串  
"7" * "4"   // => 28 都转化为数字

3.8.2 显式类型转换

Number("3")     //=> 3  
String(false)   //=> "false" 或使用false.toString()  
Boolean([])     //=> true  
Object(3)       //=> new Number(3)  

## 3.9 变量声明

变量是用关键字var来声明  ，也可以声明多个变量，也可以把变量的初始赋值和声明谢在一起

for和for/in 循环中同样可以使用var

## 3.10 变量作用域

变量的作用域看所在大括号  
函数内如果局部变量和全局变量重名，全局变量就会被局部变量所遮掩   

ps：全局变量可以不写var







 